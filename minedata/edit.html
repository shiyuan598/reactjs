<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>基础图形编辑</title>
        <link rel="stylesheet" href="./minedata/minemap.css" />
        <script src="./minedata/minemap.js"></script>
        <link
            rel="stylesheet"
            href="https://minedata.cn/minemapapi/v2.1.0/plugins/edit/minemap-edit.css"
        />
        <script src="https://minedata.cn/minemapapi/v2.1.0/plugins/edit/minemap-edit.js"></script>
        <style>
            html {
                overflow: hidden;
                padding: 0;
                margin: 0;
                border: 0;
            }
            #map {
                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            /**
             * 全局参数设置
             */

            minemap.domainUrl = '//minedata.cn';
            minemap.dataDomainUrl = '//datahive.minedata.cn';
            minemap.spriteUrl = '//minedata.cn/minemapapi/v3.1.0/sprite/sprite';
            minemap.serviceUrl = '//mineservice.minedata.cn/service/';
            minemap.appKey = '16be596e00c44c86bb1569cb53424dc9';
            minemap.solution = 12877;

            var map = new minemap.Map({
                container: 'map',
                style:
                    'https://mineservice.minedata.cn/service/solu/style/id/12877',
                center: [116.46, 39.92],
                zoom: 10,
                pitch: 0,
                maxZoom: 17,
                minZoom: 1
            });

            map.on('load', function () {
                const edit = new minemap.edit.init(map, {
                    boxSelect: true,
                    touchEnabled: true,
                    displayControlsDefault: true,
                    showButtons: false
                });

                edit.onBtnCtrlActive('polygon', {
                    style: {
                        fillColor: 'red',
                        fillOpacity: 0.1,
                        fillOutlineColor: 'red',
                        fillOutlineWidth: 2
                    }
                });
            });
        </script>
    </body>
</html>
